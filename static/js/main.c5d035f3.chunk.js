(this.webpackJsonpsplitthebill=this.webpackJsonpsplitthebill||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),c=n.n(i),o=(n(97),n(58)),s=n(144),l=n(138),d=n(169),u=n(141),j=n(143),h=n(29),b=n(2),m=Object(l.a)((function(e){return{offset:e.mixins.toolbar,title:{margin:"12px 0",textAlign:"center"},image:{borderRadius:"5px",margin:"0.5rem",height:"2.5rem"}}}));function p(){var e=m();return Object(b.jsxs)(r.a.Fragment,{children:[Object(b.jsx)(u.a,{position:"fixed",color:"primary",children:Object(b.jsx)(j.a,{children:Object(b.jsx)("img",{src:"data:image/png;base64,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",alt:"Split the bill logo",className:e.image})})}),Object(b.jsx)("div",{className:e.offset}),Object(b.jsx)(h.a,{variant:"h3",component:"h1",className:e.title,children:"Split The Bill"})]})}var f=n(24),x=n(64),O=n.n(x),g=n(75),v=n(21),y=n(12),A=n(17),C=n(162),w=n(163),k=n(151),N=n(165),S=n(166),R=n(149),B=n(108),F=n(161),T=n(174),E=n(164),M=n(167),D=n(147),W=n(176),J=n(170),P=n(150),I=n(152),U=Object(l.a)((function(e){return{inputRow:{color:e.palette.text.main},button:{padding:"0.5rem"},buttonDisabled:{color:e.palette.text.faded,cursor:"not-allowed"},textField:{marginRight:"1rem"},shortTextField:{width:"100px",marginRight:e.spacing(1)},longTextField:{marginRight:e.spacing(1)},select:{minWidth:"125px"}}}));function z(e){var t=e.id,n=e.label,a=e.value,r=e.setByIndex,i=e.deleteByIndex,c=e.placeholder,o=void 0===c?"":c,l=e.error,d=void 0!==l&&l,u=e.options,j=void 0===u?[]:u,h=e.selectedOption,m=e.selectOptionByIndex,p=e.deleteDisabled,f=U(),x=Object(A.a)();return Object(b.jsxs)(s.a,{container:!0,alignItems:"center",className:f.inputRow,spacing:1,children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(T.a,{id:"".concat(n,"-").concat(t),label:n,value:a,onChange:function(e){return r(e.target.value,t)},placeholder:o,margin:"dense",error:d,className:j.length?f.shortTextField:f.longTextField})}),j.length?Object(b.jsx)(s.a,{item:!0,children:Object(b.jsxs)(D.a,{children:[Object(b.jsx)(W.a,{id:"".concat(n,"-").concat(t,"-select-label"),children:"Assign to..."}),Object(b.jsx)(J.a,{labelId:"".concat(n,"-").concat(t,"-select-label"),id:"".concat(n,"-").concat(t,"-select"),value:h,onChange:function(e){return m(t,e.target.value)},className:f.select,children:j.map((function(e,t){return!!e.length&&Object(b.jsx)(P.a,{value:t,children:e},t)}))})]})}):null,Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(k.a,{onClick:function(){return i(t)},className:"".concat(f.button," ").concat(p?f.buttonDisabled:null),children:Object(b.jsx)(I.a,{htmlColor:p?x.palette.text.faded:x.palette.text.main})})})]})}var H,L=["Patricia Cook","Richard Morgan","Wayne Anderson","Howard Cox","Shirley Peterson","Gary Coleman","Frank Watson","Jacqueline Perez","Kevin Bailey","Sandra White","Craig Ross","Adam Evans","Matthew Bryant","Ryan Morris","Tammy Stewart","Deborah Gonzales","Kathy Young","Scott Bell","Lillian Hall","Roy Lee","Jeremy Rodriguez","Albert Alexander","Julia Robinson","Kathleen Wright","Maria Edwards","Peter Price","Rachel Carter","Ruth Williams","Denise Flores","Chris Perry","John Reed","Steve Gray","Linda Butler","Martha Baker","Diana Hughes","Debra Long","Fred Simmons","Paula Brown","Bonnie Thompson","Sean Washington","Lawrence Wood","Ernest Griffin","Lois Bennett","Keith Powell","Dorothy Patterson","Anthony Martinez","Robert Ramirez","Kelly James","Heather Miller","Janet Richardson","Norma Rogers","Louise Mitchell","Eugene Smith","Victor Adams","Walter Nelson","Katherine Johnson","Joshua Howard","Jerry Scott","Phillip Rivera","Jonathan Roberts","Annie Jones","Justin Moore","Karen Hernandez","Kenneth Jenkins","Jimmy Lopez","Doris Sanchez","Susan Garcia","Jeffrey Hill","Carol Diaz","Steven Martin","Brenda Allen","Eric Walker","Ann Lewis","Ralph Parker","Evelyn Clark","Theresa Thomas","Gregory Taylor","Johnny Harris","Melissa Brooks","Billy Russell","Ronald Wilson","Teresa Foster","Andrea King","Jason Henderson","Paul Cooper","Amanda Kelly","Joseph Barnes","George Green","Gerald Jackson","Margaret Davis","Frances Gonzalez","James Campbell","Emily Murphy","Charles Ward","Diane Phillips","Tina Turner","Gloria Sanders","Carlos Collins","David Torres","Louis Washington"],K=n(148),Y=n(173),G=n(153),V=n(155),q=n(156),Q=n(157),Z=n(158),X=n(177),$=n(159),_=n(172),ee=n(160),te=n(76),ne=n.n(te),ae=n(154),re=["Parsing receipt...","Contacting server...","Itemizing items...","Judging your purchases...","Analyzing pixels...","Getting you photography lessons..."],ie=Object(l.a)((function(e){return{indent:{margin:"0.5rem"},itemHelpText:{color:e.palette.text.faded},select:{minWidth:"125px"},chips:{display:"flex",flexWrap:"wrap",margin:"2px -2px"},chip:{margin:"2px"},windowButton:{position:"absolute",top:"10px",right:"15px",height:"1rem",width:"1rem",border:"2px solid rgba(150,150,150,0.5)",borderRadius:"4px"}}})),ce=r.a.forwardRef((function(e,t){return Object(b.jsx)(K.a,Object(f.a)(Object(f.a)({ref:t},e),{},{timeout:500,style:H?{transformOrigin:"".concat(H.x,"px ").concat(H.y,"px")}:{}}))}));function oe(e){var t,n=e.open,r=e.setOpen,i=e.receipt,c=e.isLoading,o=e.setCosts,s=e.people,l=e.growOffsets,d=e.getGrowOffsets,u=ie(),j=Object(a.useState)(""),m=Object(y.a)(j,2),p=m[0],f=m[1],x=Object(a.useState)(!1),O=Object(y.a)(x,2),g=O[0],A=O[1],C=Object(a.useState)(0),w=Object(y.a)(C,2),N=w[0],S=w[1],R=Object(a.useState)([]),B=Object(y.a)(R,2),T=B[0],E=B[1],M=Object(a.useState)(0),I=Object(y.a)(M,2),U=I[0],z=I[1],L=Object(a.useState)(""),K=Object(y.a)(L,2),te=K[0],oe=K[1],se=Object(a.useState)("Loading results..."),le=Object(y.a)(se,2),de=le[0],ue=le[1],je=Object(a.useState)(!1),he=Object(y.a)(je,2),be=he[0],me=he[1],pe=Object(a.useRef)(null);Object(a.useEffect)((function(){H=l}),[l]),Object(a.useEffect)((function(){if(c)return pe.current=setInterval((function(){ue(re[Math.floor(Math.random()*re.length)])}),3e3),function(){clearInterval(pe.current)};clearInterval(pe.current)}),[c]),Object(a.useEffect)((function(){var e;if(null===i||void 0===i||null===(e=i.items)||void 0===e?void 0:e.length){var t=[];i.items.forEach((function(e){for(var n,a=(e.amount/(null!==(n=e.qty)&&void 0!==n?n:1)).toString(),r=0;r<(null!==(i=e.qty)&&void 0!==i?i:1);r++){var i,c;t.push({qty:null!==(c=e.qty)&&void 0!==c?c:1,n:r,cost:a,description:e.description,person:""})}})),E(t)}}),[i]),Object(a.useEffect)((function(){var e,t,n=T[U];n&&(A((null!==(e=n.qty)&&void 0!==e?e:1)>1),S(n.n+1),f("".concat(null!==(t=n.qty)&&void 0!==t?t:1," x ").concat(n.description," for $").concat(n.cost).concat(n.qty>1?" each":"",".")),Array.isArray(n.person)&&1===n.person.length?(oe(n.person[0].toString()),me(!1)):Array.isArray(n.person)&&n.person.length>1?(oe(n.person),me(!0)):(oe(""),me(!1)))}),[T,U]);var fe=function(e){var t=e.advance,n=void 0===t||t,a=e.clickOnNext,i=void 0!==a&&a;if(Array.isArray(te)?te.length:""!==te){var c=Object(v.a)(T);c[U].person=Array.isArray(te)?te.filter((function(e){return""!==e})):[te];var s=U+1;E(c),n&&z(s),oe(""),me(!1);var l=!c.filter((function(e){return 0===e.person.length})).length,d=s===c.length;if(i&&d||!i&&l){var u=[];return T.forEach((function(e){if(e.person.length>1){var t=function(e,t){for(var n=Math.floor(100*e/t),a=new Array(t).fill(n),r=100*e-a.reduce((function(e,t){return t+e}),0),i=0;i<r;i++)a[i]++;return a.map((function(e){return e/100}))}(e.cost,e.person.length);e.person.forEach((function(e,n){u.push({cost:t[n],person:e})}))}else u.push({cost:e.cost,person:e.person[0]})})),o(u),i&&d&&z(0),void r(!1)}}};return Object(b.jsxs)(Y.a,{id:"receipt-dialog",open:n,onClose:function(){return r(!1)},TransitionComponent:ce,keepMounted:!0,fullWidth:!0,maxWidth:"md",children:[Object(b.jsx)(G.a,{children:"Split Receipt Items"}),Object(b.jsx)(k.a,{color:"primary","aria-label":"minimize receipt window",className:u.windowButton,onClick:function(){H=d(),fe({advance:!1}),r(!1)},children:Object(b.jsx)(ae.a,{})}),Object(b.jsx)(V.a,{children:c?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(q.a,{children:de}),Object(b.jsx)(Q.a,{color:"primary"})]}):(null===i||void 0===i||null===(t=i.items)||void 0===t?void 0:t.length)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h.a,{variant:"subtitle1",className:u.itemHelpText,children:"Reading the receipt, we found..."}),Object(b.jsx)(h.a,{variant:"subtitle1",className:u.indent,children:p}),Object(b.jsxs)(h.a,{variant:"subtitle1",className:u.itemHelpText,children:["Who would you like to assign"," ",g?Object(b.jsxs)("span",{children:["the ",Object(b.jsx)("strong",{children:ne.a.toWordsOrdinal(N)})]}):"this"," ","to?"]}),Object(b.jsxs)(Z.a,{className:u.indent,children:[Object(b.jsxs)(D.a,{children:[Object(b.jsx)(W.a,{id:"item-select-label",children:"Assign to..."}),Object(b.jsx)(J.a,{multiple:be,labelId:"item-select-label",id:"item-select",value:te,onChange:function(e){return oe(e.target.value)},className:u.select,inputProps:{id:"item-select-label"},renderValue:be?function(e){return Object(b.jsx)("div",{className:u.chips,children:e.map((function(e){return Object(b.jsx)(X.a,{label:s[e],className:u.chip},e)}))})}:void 0,children:s.map((function(e,t){return!!e.length&&Object(b.jsx)(P.a,{value:t,children:e},t)}))})]}),Object(b.jsx)($.a,{control:Object(b.jsx)(_.a,{checked:be,onChange:function(){me((function(e){return!e})),oe((function(e){return Array.isArray(e)?e[0]:[e].filter((function(e){return""!==e}))}))},name:"assignMultipleCheck",color:"primary"}),label:"Shared"})]})]}):Object(b.jsx)(q.a,{children:"An error occurred reading your receipt. Please try again later."})}),Object(b.jsxs)(ee.a,{children:[!c&&Object(b.jsx)(F.a,{color:"primary",onClick:function(){0!==U&&(fe({advance:!1}),z((function(e){return e-1})))},disabled:0===U,children:"Back"}),!c&&Object(b.jsx)(F.a,{color:"primary",variant:"contained",onClick:fe,disabled:Array.isArray(te)?!te.length:""===te,children:"Next"})]})]})}var se=Object(l.a)((function(e){return{card:{margin:"0 auto",width:"clamp(325px, 90vw, 750px)",color:e.palette.text.main,backgroundColor:e.palette.foreground.main},cardWidth:{margin:"0 auto",width:"clamp(325px, 90vw, 750px)"},contentRemoveMargin:{paddingTop:"0"},listItemDense:{padding:"0"},resultsText:{fontWeight:"bold"},fadedText:{color:e.palette.text.faded},input:{display:"none"}}})),le={transition:"all 200ms"},de={transform:"rotate(180deg)"},ue=function(e){return e.target.value=null},je=function(){var e,t,n=null===(e=document.getElementById("receipt-dialog"))||void 0===e?void 0:e.getBoundingClientRect(),a=null===(t=document.getElementById("reopen-receipt"))||void 0===t?void 0:t.getBoundingClientRect();if(n&&a)return{x:Math.round(a.x-n.x),y:Math.round(a.y-n.y)}};function he(){var e=se(),t=Object(A.a)(),n=Object(a.useState)([1]),r=Object(y.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)([""]),l=Object(y.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)([{cost:"",person:""}]),m=Object(y.a)(j,2),p=m[0],x=m[1],D=Object(a.useState)(""),W=Object(y.a)(D,2),J=W[0],P=W[1],I=Object(a.useState)(!1),U=Object(y.a)(I,2),H=U[0],K=U[1],Y=Object(a.useState)([]),G=Object(y.a)(Y,2),V=G[0],q=G[1],Q=Object(a.useState)(!0),Z=Object(y.a)(Q,2),X=Z[0],$=Z[1],_=Object(a.useState)(!1),ee=Object(y.a)(_,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=Object(y.a)(ae,2),ie=re[0],ce=re[1],he=Object(a.useState)(!1),be=Object(y.a)(he,2),me=be[0],pe=be[1],fe=Object(a.useState)({}),xe=Object(y.a)(fe,2),Oe=xe[0],ge=xe[1],ve=Object(a.useRef)(),ye=function(e){c((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(v.a)(t),[e])}))},Ae=function(e){c([e+1])},Ce=function(e,t){var n=Object(v.a)(d);n[t]=e,u(n)},we=function(e){if(!(d.length<=1)){var t=p.map((function(t){var n=t.cost,a=t.person,r=a;return String(a)===String(e)&&(r=""),""!==String(a)&&Number(a)>Number(e)&&(r=Number(a)-1),{cost:n,person:r}}));x(t);var n=Object(v.a)(d);n.splice(e,1),u(n)}},ke=function(e,t){var n,a=Object(v.a)(p);""!==e&&e!==(null===(n=e.match(/([0-9]+([.][0-9]{0,2})?|[.][0-9]{1,2})/g))||void 0===n?void 0:n[0])||(a[t]={cost:e,person:p[t].person},x(a))},Ne=function(e){if(!(p.length<=1)){var t=Object(v.a)(p);t.splice(e,1),x(t)}},Se=function(e,t){var n=Object(v.a)(p);n[e].person=t,x(n)},Re=function(){var e=Object(g.a)(O.a.mark((function e(t){var n,a,r,i,c,o,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=t.target.files)||void 0===n?void 0:n.length){e.next=2;break}return e.abrupt("return");case 2:return r=t.target.files[0],pe(!0),ce(!0),"https://ocr.asprise.com/api/v1/receipt",(i=new FormData).append("api_key","TEST"),i.append("recognizer","auto"),i.append("file",r),e.next=12,fetch("https://ocr.asprise.com/api/v1/receipt",{method:"POST",body:i});case 12:return c=e.sent,e.next=15,c.json();case 15:if(o=e.sent,pe(!1),o.success&&(null===o||void 0===o||null===(a=o.receipts)||void 0===a?void 0:a[0])){e.next=21;break}return ce(!1),alert("Failure to read receipt. Please try again later or enter the receipt data manually."+" [".concat(c.status,"]")),e.abrupt("return");case 21:s=o.receipts[0],ge(s);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(s.a,{container:!0,direction:"column",spacing:2,children:[Object(b.jsx)(oe,{open:ie,setOpen:ce,receipt:Oe,setReceipt:ge,isLoading:me,setCosts:x,people:d,growOffsets:ve.current,getGrowOffsets:je}),X?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsxs)(C.a,{className:e.card,children:[Object(b.jsx)(w.a,{title:"Phase 1: Enter Names",onClick:function(){return ye(1)},action:Object(b.jsx)(k.a,{children:Object(b.jsx)(E.a,{htmlColor:t.palette.text.main,style:i.includes(1)?Object(f.a)(Object(f.a)({},le),de):le})})}),Object(b.jsx)(N.a,{in:i.includes(1),children:Object(b.jsx)(S.a,{className:e.contentRemoveMargin,children:Object(b.jsxs)(s.a,{container:!0,direction:"column",spacing:1,children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(R.a,{dense:!0,children:d.map((function(e,t){return Object(b.jsx)(B.a,{children:Object(b.jsx)(z,{id:t,value:e,setByIndex:Ce,deleteByIndex:we,placeholder:L[Math.floor(Math.random()*L.length)],label:"Name",deleteDisabled:d.length<=1})},t)}))})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsxs)(s.a,{container:!0,justifyContent:"space-between",children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(F.a,{onClick:function(){u([].concat(Object(v.a)(d),[""]))},children:Object(b.jsx)(h.a,{color:"primary",children:"Add Person"})})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(F.a,{onClick:function(){return Ae(1)},children:Object(b.jsx)(h.a,{color:"primary",children:"Continue"})})})]})})]})})})]})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsxs)(C.a,{className:e.card,children:[Object(b.jsx)(w.a,{title:"Phase 2: Enter Costs",onClick:function(){return ye(2)},action:Object(b.jsx)(k.a,{children:Object(b.jsx)(E.a,{htmlColor:t.palette.text.main,style:i.includes(2)?Object(f.a)(Object(f.a)({},le),de):le})})}),Object(b.jsx)(N.a,{in:i.includes(2),children:Object(b.jsx)(S.a,{className:e.contentRemoveMargin,children:Object(b.jsxs)(s.a,{container:!0,direction:"column",spacing:1,children:[Object(b.jsxs)(s.a,{item:!0,children:[Object(b.jsx)(h.a,{variant:"subtitle1",className:e.fadedText,children:"Scan the receipt"}),Object(b.jsx)("input",{accept:"image/*",className:e.input,id:"contained-button-file",type:"file",onChange:Re,onClick:ue}),Object(b.jsx)("label",{htmlFor:"contained-button-file",children:Object(b.jsx)(F.a,{variant:"contained",color:"primary",component:"span",children:"Upload"})}),Object(b.jsx)("input",{accept:"image/*",className:e.input,id:"icon-button-file",type:"file",capture:"environment",onChange:Re,onClick:ue}),Object(b.jsx)("label",{htmlFor:"icon-button-file",children:Object(b.jsx)(k.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(b.jsx)(M.a,{})})}),Object(b.jsx)(N.a,{in:Object.keys(Oe).length,children:Object(b.jsx)(F.a,{id:"reopen-receipt",variant:"outlined",onClick:function(){ve.current=je(),ce(!0)},style:{margin:"8px 0"},children:Object(b.jsx)(h.a,{color:"primary",children:"Reopen Current Receipt"})})}),Object(b.jsx)(N.a,{in:!(p.length>1||te),children:Object(b.jsx)(F.a,{variant:"outlined",onClick:function(){return ne(!0)},style:{margin:"8px 0"},children:Object(b.jsx)(h.a,{color:"primary",className:e.fadedText,children:"Enter costs manually"})})})]}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(N.a,{in:p.length>1||te,children:Object(b.jsx)(R.a,{dense:!0,children:p.map((function(t,n){return Object(b.jsx)(B.a,{className:e.listItemDense,children:Object(b.jsx)(z,{id:n,value:t.cost,setByIndex:ke,deleteByIndex:Ne,placeholder:(15*Math.random()).toFixed(2),label:"Cost",options:d,selectedOption:t.person,selectOptionByIndex:Se,deleteDisabled:p.length<=1})},n)}))})})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(N.a,{in:p.length>1||te,children:Object(b.jsxs)(s.a,{container:!0,justifyContent:"space-between",children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(F.a,{onClick:function(){x([].concat(Object(v.a)(p),[{cost:"",person:""}]))},children:Object(b.jsx)(h.a,{color:"primary",children:"Add Cost"})})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(F.a,{onClick:function(){return Ae(2)},children:Object(b.jsx)(h.a,{color:"primary",children:"Continue"})})})]})})})]})})})]})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsxs)(C.a,{className:e.card,children:[Object(b.jsx)(w.a,{title:"Phase 3: Enter Total",onClick:function(){return ye(3)},action:Object(b.jsx)(k.a,{children:Object(b.jsx)(E.a,{htmlColor:t.palette.text.main,style:i.includes(3)?Object(f.a)(Object(f.a)({},le),de):le})})}),Object(b.jsx)(N.a,{in:i.includes(3),children:Object(b.jsx)(S.a,{className:e.contentRemoveMargin,children:Object(b.jsxs)(s.a,{container:!0,direction:"column",spacing:1,children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(T.a,{id:"bill-total-id",label:"Total Cost",variant:"outlined",value:J,onChange:function(e){var t,n=e.target.value;if(""===n||n===(null===(t=n.match(/([0-9]+([.][0-9]{0,2})?|[.][0-9]{1,2})/g))||void 0===t?void 0:t[0])){P(n);var a=p.reduce((function(e,t){return e+Number(t.cost)}),0);K(isNaN(Number(n))||Number(n)<a)}},margin:"dense",error:H})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(s.a,{container:!0,justifyContent:"flex-end",children:Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(F.a,{onClick:function(){return Ae(3)},children:Object(b.jsx)(h.a,{color:"primary",children:"Continue"})})})})})]})})})]})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)("div",{className:e.cardWidth,children:Object(b.jsx)(F.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){var e="",t=p.filter((function(e){return""===e.person})),n=p.filter((function(e){return""===e.cost})),a=p.reduce((function(e,t){return e+Number(t.cost)}),0);if(t.length&&(e+="\u2022 All costs must be assigned to a person\n"),n.length&&(e+="\u2022 All costs must have a valid number entered\n"),0===d.filter((function(e){return e.replace(" ","").length})).length&&(e+="\u2022 Must have at least one valid person entered\n"),0===a&&(e+="\u2022 Must have a non-zero cost entered\n"),""===J&&(e+="\u2022 Must have a bill total entered\n"),e.length)alert("Please correct the following errors to continue:\n\n"+e);else{if(H)if(!window.confirm("The bill total is less than the subtotal of items. Are you sure you'd like to continue?"))return;var r=!1,i=d.filter((function(e){return e.length})).map((function(e,t){var n=p.reduce((function(e,n){return String(n.person)===String(t)?e+Number(n.cost):e}),0)/a,i=Math.round(Number(J)*n*100)/100,c=i;return".5"===String(Number(J)*n*100).slice(-2)&&(r?(c=i-.01,r=!1):r=!0),{name:e,cost:c}}));q(i),$(!1)}},children:Object(b.jsx)(h.a,{variant:"subtitle1",children:"View Results"})})})})]}):Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(s.a,{item:!0,children:Object(b.jsxs)(s.a,{container:!0,direction:"column",spacing:2,children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsxs)(C.a,{className:e.card,children:[Object(b.jsx)(w.a,{title:"Results"}),Object(b.jsx)(S.a,{className:e.contentRemoveMargin,children:!!V.length&&V.map((function(t,n){return Object(b.jsx)(h.a,{variant:"body1",className:e.resultsText,children:"".concat(t.name,": $").concat(t.cost.toFixed(2))},n)}))})]})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)("div",{className:e.cardWidth,children:Object(b.jsx)(F.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){$(!0)},children:Object(b.jsx)(h.a,{variant:"subtitle1",children:"Go Back"})})})})]})})})]})}var be=n(168),me=Object(l.a)((function(e){return{footer:{marginTop:"3rem"},separator:{margin:"0 12px"}}}));function pe(){var e=me();return Object(b.jsxs)(s.a,{container:!0,justifyContent:"center",className:e.footer,children:[Object(b.jsxs)(h.a,{variant:"body1",children:["Copyright ",(new Date).getFullYear()]}),Object(b.jsx)(h.a,{className:e.separator,children:"//"}),Object(b.jsx)(h.a,{variant:"body1",children:Object(b.jsx)(be.a,{href:"https://kroljs.com",target:"_blank",rel:"noopener noreferrer",children:"Jacob Krol"})})]})}var fe,xe=n(81),Oe={background:"#F7F2F7",foreground:"#F6E3D6",text:"#393239",primary:"#957FEF",secondary:"#B79CED"},ge=Object(xe.a)({palette:{primary:{main:"#957FEF"},secondary:{main:"#B79CED"},text:{main:"#393239",faded:"#696969"},background:{main:"#F7F0F7"},foreground:{main:"#FCFAFC"}}}),ve=n(77),ye=Object(o.b)(fe||(fe=Object(ve.a)(["\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Segoe UI', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: ",";\n    color: ",";\n    font-size: 14px;\n    overflow-x: hidden;\n  }\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.text})),Ae=Object(l.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.main}}}));function Ce(){var e=Ae();return Object(b.jsx)(d.a,{theme:ge,children:Object(b.jsxs)(o.a,{theme:Oe,children:[Object(b.jsx)(ye,{}),Object(b.jsxs)(s.a,{container:!0,direction:"column",alignContent:"stretch",justifyContent:"flex-start",className:e.root,spacing:2,children:[Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(p,{})}),Object(b.jsx)(s.a,{item:!0,children:Object(b.jsx)(he,{})}),Object(b.jsx)(s.a,{item:!0,style:{marginTop:"auto"},children:Object(b.jsx)(pe,{})})]})]})})}var we=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ke(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Ce,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Split-The-Bill",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Split-The-Bill","/service-worker.js");we?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ke(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ke(t,e)}))}}(),Ne()},97:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.c5d035f3.chunk.js.map